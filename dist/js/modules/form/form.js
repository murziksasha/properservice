var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(a,r){function c(t){try{u(o.next(t))}catch(t){r(t)}}function i(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,i)}u((o=o.apply(t,e||[])).next())}))};export function forms(){const t=document.querySelectorAll("form"),e=document.querySelectorAll("input"),n="Загрузка...",o="Спасибо! Скоро мы с вами свяжемся",a="Что-то пошло не так...",r=(t,e)=>__awaiter(this,void 0,void 0,(function*(){const o=document.querySelector(".status");null!==o&&(o.textContent=n);let a=yield fetch(t,{method:"POST",body:e});return yield a.text()}));t.forEach((t=>{t.addEventListener("submit",(n=>{n.preventDefault();let c=document.createElement("div");c.classList.add("status"),t.appendChild(c);const i=new FormData(t);r("mailer/smart.php",i).then((t=>{c.textContent=o})).catch((()=>c.textContent=a)).finally((()=>{e.forEach((t=>{t.value=""})),setTimeout((()=>{c.remove()}),3e3)}))}))}))}